<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breakout Questions 5</title>
</head>
<body>
    <iframe src="https://www.breakoutbandits.com/breakout-questions/" id="breakoutIframe" width="100%" height="600px"></iframe>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
    // Zoek het iframe-element
    var iframe = document.getElementById("breakoutIframe");

    // Functie om het bericht naar het iframe te verzenden
    function sendMessageToIframe() {
        // Haal de waarde van de parameter "id" uit de URL
        var urlParams = new URLSearchParams(window.location.search);
        var idParameter = urlParams.get("id");
        console.log(idParameter);

        // Stuur het bericht naar het iframe
        iframe.contentWindow.postMessage(idParameter, "https://www.breakoutbandits.com/breakout-questions/");
    }

    // Controleer of het iframe al is geladen
    if (iframe.contentWindow) {
        // Het iframe is al geladen, stuur het bericht
        sendMessageToIframe();
    } else {
        // Het iframe is nog niet geladen, wacht op het "load" event
        iframe.onload = function() {
            // Stuur het bericht naar het iframe zodra het is geladen
            sendMessageToIframe();
        };
    }
});


        // Luister naar berichten van het iframe
        window.addEventListener("message", function(event) {
            // Controleer of het bericht afkomstig is van het verwachte domein
            if (event.origin === "https://www.breakoutbandits.com") {
                // Bericht ontvangen van het iframe
                console.log("Ontvangen bericht van iframe: " + event.data);
            }
        });
    </script>
</body>
</html>
